!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).interaction={})}(this,function(n){var t='{\n  "tag":1,\n  "assigns":{},\n  "status":2,\n  "reason":null,\n  "payload":{\n    "code":null,\n    "ref":null,\n    "nonce":null,\n    "limit":null\n  },\n  "bounds":{\n    "start":null,\n    "end":null\n  },\n  "acct":null,\n  "proposer":null,\n  "authz":[],\n  "payer":null,\n  "eventType":null,\n  "txId":null,\n  "isSealed":null\n}',e=new Set(Object.keys(JSON.parse(t))),r=function(n){return Array.isArray(n)},i=function(n){return null==n},u=function(n){if("object"!=typeof n||i(n)||function(n){return"number"===n}(n))return!1;var t=e,r=Array.isArray(t),u=0;for(t=r?t:t[Symbol.iterator]();;){var o;if(r){if(u>=t.length)break;o=t[u++]}else{if((u=t.next()).done)break;o=u.value}if(!n.hasOwnProperty(o))return!1}return!0},o=function(n){return n.status=2,n},a=function(n){return function(t){return t.tag=n,o(t)}},s=a(1),c=a(2),l=a(4),f=a(8),p=a(16),d=a(32),y=a(64),T=a(128),v=function(n){return function(t){return Boolean(t.tag&n)}},k=v(1),g=v(2),m=v(4),S=v(8),A=v(16),h=v(32),G=v(64),O=v(128),N=function(n){return Boolean(1&n.status)},E=function n(t,r){void 0===r&&(r=[]);try{return Promise.resolve(t).then(function(o){if(t=function(n){for(var t=0,r=Object.keys(n);t<r.length;t++){var i=r[t];if(!e.has(i))throw new Error('"'+i+'" is an invalid root level Interaction property.')}return n}(o),N(t)||!r.length)return t;var a=r[0],s=r.slice(1);return Promise.resolve(a).then(function(e){if("function"==typeof e)return n(e(t),s);if(i(e)||!e)return n(t,s);if(u(e))return n(e,s);throw new Error("Invalid Interaction Composition")})})}catch(n){return Promise.reject(n)}},w=function(n){return n};n.BAD=1,n.Bad=function(n,t){return n.status=1,n.reason=t,n},n.GET_ACCOUNT=16,n.GET_EVENTS=32,n.GET_LATEST_BLOCK=64,n.GET_TRANSACTION_STATUS=8,n.OK=2,n.Ok=o,n.PING=128,n.SCRIPT=2,n.TRANSACTION=4,n.UNKNOWN=1,n.destroy=function(n){return function(t){return delete t.assigns[n],o(t)}},n.get=function(n,t,e){return null==n.assigns[t]?e:n.assigns[t]},n.interaction=function(){return JSON.parse(t)},n.isBad=N,n.isGetAccount=A,n.isGetEvents=h,n.isGetLatestBlock=G,n.isGetTransactionStatus=S,n.isInteraction=u,n.isOk=function(n){return Boolean(2&n.status)},n.isPing=O,n.isScript=g,n.isTransaction=m,n.isUnknown=k,n.makeGetAccount=p,n.makeGetEvents=d,n.makeGetLatestBlock=y,n.makeGetTransactionStatus=f,n.makePing=T,n.makeScript=c,n.makeTransaction=l,n.makeUnknown=s,n.pipe=function n(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var u=e[0],o=e[1];return r(u)&&null==o?function(t){return n(t,u)}:E(u,o)},n.put=function(n,t){return function(e){return e.assigns[n]=t,o(e)}},n.update=function(n,t){return void 0===t&&(t=w),function(e){return e.assigns[n]=t(e.assigns[n],e),o(e)}},n.why=function(n){return n.reason}});
//# sourceMappingURL=interaction.umd.js.map
